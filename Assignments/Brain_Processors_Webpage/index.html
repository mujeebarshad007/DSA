<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Interactive Brain — Hover & Click</title>
        <style>
  :root{
    --bg:#071024;
    --panel:#0f1726;
    --muted:#9fb0d9;
    --accent:#5fd1ff;
    --accent-2:#8f6bff;
    --glass: rgba(255,255,255,0.03);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:linear-gradient(180deg,var(--bg), #071022 120%);
    color:#eaf3ff;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:28px;
  }

  .wrap{
    width:min(1100px,96%);
    display:grid;
    grid-template-columns:1fr 360px;
    gap:18px;
    align-items:start;
  }

  header{grid-column:1/-1;text-align:center;margin-bottom:6px}
  header h1{margin:6px 0;font-size:20px;color:var(--accent)}
  header p{margin:0;color:var(--muted);font-size:13px}

  /* Canvas */
  .canvas{
    background:linear-gradient(180deg, rgba(8,12,24,0.7), rgba(6,8,18,0.8));
    border-radius:14px;
    padding:12px;
    border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 18px 40px rgba(2,6,18,0.6);
  }

  .brain-stage{
    width:100%;
    max-width:820px;
    aspect-ratio: 1200/800; /* maintain proportions */
    position:relative;
    border-radius:12px;
    overflow:hidden;
    background:#000;
  }

  .brain-photo{
    position:absolute; inset:0; width:100%; height:100%;
    object-fit:cover; display:block; transform:translateZ(0);
    filter: saturate(0.95) contrast(1.02);
  }

  /* svg overlay */
  svg.brain-map{ position:absolute; inset:0; width:100%; height:100%; pointer-events:none; }
  svg.brain-map *{ vector-effect:non-scaling-stroke; }

  /* enable pointer events on regions only */
  .region{ pointer-events:all; cursor:pointer; transition:fill .18s ease, opacity .18s ease, filter .18s ease; }

  /* default region look (mostly transparent) */
  .region-shape{
    fill: rgba(95,129,255,0.06);
    stroke: rgba(95,129,255,0.35);
    stroke-width:2.2;
    opacity:0.6;
    filter: drop-shadow(0 8px 18px rgba(0,0,0,0.45));
  }

  /* glow filter applied on hover/active via class */
  .glow {
    filter: url(#glowFilter) drop-shadow(0 0 12px rgba(95,129,255,0.28));
  }

  .region-hover{
    fill: linear-gradient(180deg, rgba(95,129,255,0.18), rgba(143,107,255,0.12));
    fill: rgba(95,129,255,0.22);
    stroke: var(--accent);
    stroke-width:2.8;
    opacity:1;
    filter: drop-shadow(0 0 18px rgba(95,129,255,0.28));
  }

  .region-active{
    fill: rgba(143,107,255,0.28);
    stroke: var(--accent-2);
    stroke-width:3.2;
    opacity:1;
    filter: drop-shadow(0 0 26px rgba(143,107,255,0.35));
  }

  /* floating label that follows mouse */
  .label {
    position:fixed;
    transform: translate(-50%, -120%) translateZ(0);
    background: linear-gradient(180deg, rgba(10,14,28,0.96), rgba(14,18,34,0.96));
    border: 1px solid rgba(95,129,255,0.18);
    padding:8px 12px;
    border-radius:10px;
    color:var(--accent);
    font-weight:600;
    font-size:14px;
    pointer-events:none;
    box-shadow:0 12px 30px rgba(4,8,20,0.6);
    opacity:0;
    transition:opacity .14s ease, transform .12s ease;
    white-space:nowrap;
    z-index:1200;
  }
  .label.visible{ opacity:1; }

  /* info panel */
  .panel{
    background:var(--panel);
    border-radius:12px;
    padding:14px;
    border:1px solid rgba(255,255,255,0.03);
    height:fit-content;
  }
  .panel h3{ margin:6px 0; color:var(--accent); font-size:16px }
  .panel p{ color:var(--muted); margin:0; line-height:1.55; font-size:14px }

  /* small helper */
  .hint{ margin-top:10px; font-size:12px; color:var(--muted) }

  /* Responsive: stack */
  @media (max-width:980px){
    .wrap{ grid-template-columns:1fr; padding:0 10px }
  }
</style>
    </head>
    <body>
        <div class="wrap">
            <header>
                <h1>Interactive Brain — Hover & Click</h1>
                <p>Hover a region to see its name & glow. Click to lock a
                    detailed description. (Esc clears)</p>
            </header>

            <div class="canvas">
                <div class="brain-stage" id="stage"
                    aria-label="Interactive brain image">
                    <!-- chosen image (Unsplash) - high quality; replace src if you want another -->
                    <img class="brain-photo" id="brainImg"
                        src="https://images.unsplash.com/photo-1559757175-5700dde675bc?q=80&w=1600&auto=format&fit=crop"
                        alt="Human brain photo" />

                    <!-- SVG overlay: viewBox matches photo ratio 1200x800 -->
                    <svg class="brain-map" viewBox="0 0 1200 800" role="img"
                        aria-hidden="false" focusable="false">
                        <defs>
                            <!-- Glow filter used by CSS class .glow (applies to whole shape) -->
                            <filter id="glowFilter" x="-50%" y="-50%"
                                width="200%" height="200%">
                                <fegaussianblur stdDeviation="8"
                                    result="blur" />
                                <femerge>
                                    <femergenode in="blur" />
                                    <femergenode in="SourceGraphic" />
                                </femerge>
                            </filter>
                        </defs>

                        <!-- Regions (coordinates chosen to fit the chosen image). 
               You can tweak coordinates if you replace the photo. -->
                        <!-- Perceptual (left posterior/occipital-ish) -->
                        <g class="region" tabindex="0" role="button"
                            aria-label="Perceptual processor"
                            data-id="perceptual">
                            <path class="region-shape"
                                d="M220 300 C240 220 360 180 470 200 C520 210 560 240 560 280 C540 310 510 330 470 340 C420 350 320 340 260 320 Z" />
                        </g>

                        <!-- Memory (left-middle) -->
                        <g class="region" tabindex="0" role="button"
                            aria-label="Memory processor" data-id="memory">
                            <path class="region-shape"
                                d="M260 360 C300 370 360 390 420 410 C460 420 490 430 500 460 C480 490 430 500 380 490 C320 480 290 450 260 410 Z" />
                        </g>

                        <!-- Cognitive (right anterior/frontal) -->
                        <g class="region" tabindex="0" role="button"
                            aria-label="Cognitive processor"
                            data-id="cognitive">
                            <path class="region-shape"
                                d="M650 220 C720 200 820 190 920 220 C980 240 1010 280 1010 320 C990 350 940 370 890 370 C830 370 760 340 700 320 Z" />
                        </g>

                        <!-- Motor (right-mid / motor strip area) -->
                        <g class="region" tabindex="0" role="button"
                            aria-label="Motor processor" data-id="motor">
                            <path class="region-shape"
                                d="M680 360 C720 380 780 400 840 400 C880 400 920 390 940 360 C920 340 880 330 840 330 C790 330 740 340 700 350 Z" />
                        </g>
                    </svg>
                </div>
            </div>

            <aside class="panel" aria-live="polite">
                <h3 id="panelTitle">Hover a region</h3>
                <p id="panelText">Move your cursor over a brain area to see its
                    name. Click to lock more details here.</p>
                <div class="hint">Tip: Use Tab to focus regions and Enter/Space
                    to select. Press Esc to clear selection.</div>
            </aside>

        </div>

        <!-- floating label -->
        <div id="label" class="label" aria-hidden="true"></div>

        <script>
(function(){
  // Data for processors
  const info = {
    perceptual: {
      title: "Human Perceptual Processor",
      text: "Encodes sensory input (vision, hearing, touch) into percepts. Fast detection (~50–150 ms) and early filtering of stimuli so cognition receives organized information."
    },
    memory: {
      title: "Human Memory Processor",
      text: "Manages short-term (working) and long-term storage, retrieval, and consolidation of information. Uses chunking and cues to reduce cognitive load."
    },
    cognitive: {
      title: "Human Cognitive Processor",
      text: "Performs reasoning, decision-making, planning, and problem solving. Integrates percepts with memory and goals to produce intentions."
    },
    motor: {
      title: "Human Motor Processor",
      text: "Transforms intentions into muscle commands — controls timing, precision, and coordination of actions (e.g., reaching, speaking, typing)."
    }
  };

  // DOM handles
  const stage = document.getElementById('stage');
  const label = document.getElementById('label');
  const panelTitle = document.getElementById('panelTitle');
  const panelText = document.getElementById('panelText');

  // Regions (g elements)
  const regions = Array.from(document.querySelectorAll('g.region'));
  let locked = null;

  // Smooth label motion (lerp)
  let labelTarget = {x:0,y:0,visible:false,text:''};
  let labelPos = {x:0,y:0};
  function animateLabel(){
    // simple linear interpolation for smooth following
    labelPos.x += (labelTarget.x - labelPos.x) * 0.22;
    labelPos.y += (labelTarget.y - labelPos.y) * 0.22;
    label.style.left = labelPos.x + 'px';
    label.style.top = labelPos.y + 'px';
    if(labelTarget.visible) label.classList.add('visible'); else label.classList.remove('visible');
    requestAnimationFrame(animateLabel);
  }
  requestAnimationFrame(animateLabel);

  // Helpers to set hover/active classes
  function clearHoverAll(){
    regions.forEach(r=>{
      r.querySelector('.region-shape').classList.remove('region-hover', 'glow');
    });
  }
  function clearActiveAll(){
    regions.forEach(r=>{
      r.querySelector('.region-shape').classList.remove('region-active');
    });
  }

  // Pointer handlers
  regions.forEach(r=>{
    const id = r.dataset.id;

    // pointer enter -> show label + glow
    r.addEventListener('pointerenter', (e)=>{
      if(locked && locked !== id) return; // when locked to another region, ignore other hovers
      clearHoverAll();
      const shape = r.querySelector('.region-shape');
      shape.classList.add('region-hover','glow');

      // update label text & show
      labelTarget.visible = true;
      labelTarget.text = info[id].title;
      label.textContent = labelTarget.text;

      // place label target near pointer (page coords). We'll clamp inside window
      labelTarget.x = e.pageX;
      labelTarget.y = e.pageY - 22;
    });

    r.addEventListener('pointermove', (e)=>{
      if(locked && locked !== id) return;
      labelTarget.x = e.pageX;
      labelTarget.y = e.pageY - 22;
    });

    r.addEventListener('pointerleave', ()=>{
      if(locked && locked !== id) return;
      clearHoverAll();
      labelTarget.visible = false;
    });

    // click -> lock selection and show details
    r.addEventListener('click', (e)=>{
      // toggle lock for same region
      if(locked === id){
        locked = null;
        clearActiveAll();
        panelTitle.textContent = "Hover a region";
        panelText.textContent = "Move your cursor over a brain area to see its name. Click to lock more details here.";
        labelTarget.visible = false;
        return;
      }

      // lock new
      locked = id;
      clearActiveAll();
      clearHoverAll();
      const shape = r.querySelector('.region-shape');
      shape.classList.add('region-active','glow');

      // show in panel
      panelTitle.textContent = info[id].title;
      panelText.textContent = info[id].text;

      // hide floating label (optional) or keep it showing
      labelTarget.visible = false;
    });

    // keyboard support (focusable group) — Enter/Space equal to click
    r.addEventListener('keydown', (ev)=>{
      if(ev.key === 'Enter' || ev.key === ' '){
        ev.preventDefault();
        r.click();
      }
      if(ev.key === 'Escape'){
        // clear
        locked = null;
        clearActiveAll();
        panelTitle.textContent = "Hover a region";
        panelText.textContent = "Move your cursor over a brain area to see its name. Click to lock more details here.";
        labelTarget.visible = false;
      }
    });
  });

  // Global escape to clear
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      locked = null;
      clearActiveAll();
      clearHoverAll();
      panelTitle.textContent = "Hover a region";
      panelText.textContent = "Move your cursor over a brain area to see its name. Click to lock more details here.";
      labelTarget.visible = false;
    }
  });

  // Keep label text synced when visible
  setInterval(()=> {
    if(labelTarget.visible) label.textContent = labelTarget.text;
  }, 60);

})();
</script>
    </body>
</html>
